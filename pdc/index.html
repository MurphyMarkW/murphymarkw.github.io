---
layout: default
title: Something something PDC.
---

<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Murphymarkw.github.io by MurphyMarkW</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>
    <div class="wrapper">
      <header>
        <h1>PDC Examples</h1>
        <p><a href="https://www.opensciencedatacloud.org/support/pdc.html">Official PDC Support Docs!</a></p>
      </header>

      <section>
        <h3><a name="welcome" class="anchor" href="#welcome"><span class="octicon octicon-link"></span></a>Welcome!</h3>
        <p align="justify">Hi there! You've found your way to Mark's Whacky Waving Inflatible Arm Flailing PDC Tutorials! As a beta tested for the new Protected Data Cloud at the University of Chicago, I thought it would be helpful to put together a few tutorials, tips, tricks and gotchas for utilizing the new PDC system. Let's get started!</p>

        <h3><a name="logging_in" class="anchor" href="#logging_in"><span class="octicon octicon-link"></span></a>Logging in!</h3>
        <p align="justify">Logging into the PDC system is just like logging in to any other system via ssh. However, only login via pubkey is allowed - so no passwords! This makes the login process much more secure. If you haven't already done so, you can generate a new ssh key-pair using the following commands:</p>

{% highlight bash %}
# Generate an ssh pubkey key-pair.
% ssh-keygen -f id_local -N <password>
{% endhighlight %}

        <p align="justify">This will generate two files: <b>id_local</b> and <b>id_local.pub</b>. Note: <b>id_local</b> must be kept private at all times! If it is ever made public, you should regenerate your key-pair. However, <b>id_local.pub</b> is intended to be made public - this is the part of the key-pair that is uploaded to servers to gain ssh access. For now, the Tukey interface that supports loading your public key, <b>id_local.pub</b>, is down. So you'll need to send off a support email with your public key attached. Once it's loaded, you'll be able to log in with the following commands:</p>

{% highlight bash %}
# Log on to PDC using your private key!.
% ssh -A -i id_local <username>@bionimbus-pdc.opensciencedatacloud.org
{% endhighlight %}

        <p align="justify">To make logging on to virtual machines easier, you can load your public key into the OpenStack controller:</p>

{% highlight bash %}
# Copy public key to the PDC server.
% scp -i id_local id_local.pub <username>@bionimbus-pdc.opensciencedatacloud.org:~/

# Log on to PDC.
% ssh -A -i id_local <username>@bionimbus-pdc.opensciencedatacloud.org

# Load public key into OpenStack controller.
% nova keypair-add --pub-key id_local.pub <pubkey_name>
{% endhighlight %}

        <h3><a name="virtual_machines" class="anchor" href="#virtual_machines"><span class="octicon octicon-link"></span></a>Virtual Machines!</h3>

        <p align="justify">PDC, being a full OpenStack system, is designed with virtual machines in mind. This allows PDC to lease out resources to users on-demand, giving users access to isolated, private and fully customizable environments. Let's start off with launching a virtual machine and see how we can get started building a system!</p>

{% highlight bash %}
# First we'll start up a new virtual machine instance.
# We do so by indicating:
#   1. A saved copy of a virtual machine - the base template for our instance.
#   2. The flavor of hardware we want - the number of cpus, memory, etc.
#   3. Which public key to use for controlling ssh access.
#   4. The name of the new virtual machine instance.
% nova boot --image Ubuntu-14.04-LTS-20140607 --flavor m1.xxlarge --key-name <pubkey_name> <instance_name>

# Next, we'll wait until the machine is up and has an IP.
# You can see the current status of your virtual machines by issuing:
% nova list

# Finally, we'll log into the virtual machine!
# You'll need to grab the IP from the previous step.
# Note: The default user for instances based on Ubuntu-14.04-LTS-20140607 is 'ubuntu'.
% ssh ubuntu@<instance_ip>
{% endhighlight %}

        <h3><a name="projects" class="anchor" href="#projects"><span class="octicon octicon-link"></span></a>Projects</h3>
        <p align="justify">While not at my day job, I like to spend my time playing with code, usually C/C++ and Python. Here are some of my favorite projects. If you like what you see, feel free to take a copy of my git repos!</p>

        <h3><a name="tensor" href="https://github.com/MurphyMarkW/Tensor.old" target="_top">Tensor</a></h3>
        <h5><font color="red">Currently not updated on GitHub!</font></h5>
        <p align="justify">Tensor (or libtensor) is a low-level, high-performance C++ library designed to provide tensor-like syntax to classes with index style accessors. What is a tensor, you ask? You can think of it as a multi-dimensional array, but with some mathematical functionality, such as adding, subtracting, and <a href="http://en.wikipedia.org/wiki/Tensor" target="_top">other cool stuff</a>.</p>
 
{% highlight c++ %}
// libtensor lets you do cool stuff like...
Tensor<int,1> t(size);              // A regular dynamic array.
Tensor<int,2> t(size0,size1);       // A dynamic matrix.
Tensor<int,3> t(size0,size1,size2); // A dynamic... Cube?
Tensor<int,4> t(size0,...,size3);   // Ok, these must be hard-coded...
...
Tensor<int,20> t(size0,size1,...,size19); // Or not...
...
Tensor<int,12345> t(size0,size1,...,size12344); // wow   such size   so amaze

// Accessors depend on the tensor order, such as...
Tensor<int,3> t(size0,size1,size2);
t(1,5)      = 42; // Compile time syntax error!
t(1,5,3,4)  = 42; // Compile time syntax error!
t(1,5,3)    = 42; // Got it!

// And you can get at sub-tensor elements as well!
Tensor<int,3> tensor(size0,size1,size2);
tensor(1,5,3) = 42;

Tensor<int,2> sub_tensor = tensor[1];
sub_tensor(5,3) == 42; // True!

Tensor<int,1> sub_sub_tensor = sub_tensor[5];
sub_sub_tensor(3) == 42; // Also true!

// And it also includes fancy expression templating that -also- behaves like tensors!
t += (t*(t+t)-(t-3))/5.23; // Optimized at compile-time! Only one pass over t!
t /= (a*(b+c)-(d-3))/5.23; // Or, only one pass over each a, b, c, d and t!
{% endhighlight %}

        <h3><a name="genepy" href="https://github.com/MurphyMarkW/genepy" target="_top">Genepy (Génépi)</a></h3>
        <p align="justify">Genepy is a collection of sometimes random, sometimes directed, potentially useful Python utilities for genomics analysis. Some of the stuff I write for Genepy gets used at my job, some of it gets used by other people, but most of it is just stuff I thought would be useful or interesting. Check it out!</p>
 
{% highlight python %}
# TODO...
{% endhighlight %}

      </section>
      <footer>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a></small></p>
      </footer>
    </div>
    <!-- <script src="javascripts/scale.fix.js"></script> -->
    
  </body>
</html>
